/**
 * jquery.slimmenu.js
 * http://adnantopal.github.io/slimmenu/
 * Author: @adnantopal
 * Copyright 2013, Adnan Topal (atopal.com)
 * Licensed under the MIT license.
 */
(function(e,t,n,r){"use strict";function o(t,n){this.element=t;this.$elem=e(this.element);this.options=e.extend({},s,n);this.init()}var i="slimmenu",s={resizeWidth:"768",collapserTitle:"Main Menu",animSpeed:"medium",easingEffect:null,indentChildren:false,childrenIndenter:"&nbsp;&nbsp;"};o.prototype={init:function(){var n=this.options,r=this.$elem,i='<div class="menu-collapser">'+n.collapserTitle+'<div class="collapse-button"><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></div></div>',s;r.before(i);s=r.prev(".menu-collapser");r.on("click",".sub-collapser",function(t){t.preventDefault();t.stopPropagation();var r=e(this).closest("li");if(e(this).hasClass("expanded")){e(this).removeClass("expanded");e(this).find("i").html("&#9660;");r.find(">ul").slideUp(n.animSpeed,n.easingEffect)}else{e(this).addClass("expanded");e(this).find("i").html("&#9650;");r.find(">ul").slideDown(n.animSpeed,n.easingEffect)}});s.on("click",".collapse-button",function(e){e.preventDefault();r.slideToggle(n.animSpeed,n.easingEffect)});this.resizeMenu({data:{el:this.element,options:this.options}});e(t).on("resize",{el:this.element,options:this.options},this.resizeMenu)},resizeMenu:function(n){var r=e(t),i=n.data.options,s=e(n.data.el),u=e("body").find(".menu-collapser");s.find("li").each(function(){if(e(this).has("ul").length){if(e(this).has(".sub-collapser").length){e(this).children(".sub-collapser i").html("&#9660;")}else{e(this).append('<span class="sub-collapser"><i>&#9660;</i></span>')}}e(this).children("ul").hide();e(this).find(".sub-collapser").removeClass("expanded").children("i").html("&#9660;")});if(i.resizeWidth>=r.width()){if(i.indentChildren){s.find("ul").each(function(){var t=e(this).parents("ul").length;if(!e(this).children("li").children("a").has("i").length){e(this).children("li").children("a").prepend(o.prototype.indent(t,i))}})}s.find("li").has("ul").off("mouseenter mouseleave");s.addClass("collapsed").hide();u.show()}else{s.find("li").has("ul").on("mouseenter",function(){e(this).find(">ul").stop().slideDown(i.animSpeed,i.easingEffect)}).on("mouseleave",function(){e(this).find(">ul").stop().slideUp(i.animSpeed,i.easingEffect)});s.find("li > a > i").remove();s.removeClass("collapsed").show();u.hide()}},indent:function(e,t){var n="";for(var r=0;r<e;r++){n+=t.childrenIndenter}return"<i>"+n+"</i>"}};e.fn[i]=function(t){return this.each(function(){if(!e.data(this,"plugin_"+i)){e.data(this,"plugin_"+i,new o(this,t))}})}})(jQuery,window,document)